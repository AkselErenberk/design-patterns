@startuml
title Abstract Factory

skinparam legendBackgroundColor #f9f9f9
skinparam legendBorderColor #999999

legend right
**Intent**: Create families of related/dependent objects without specifying concrete classes.

**Use when**: You need to ensure products are created from the same family and can vary together (e.g., GUI themes, database drivers).

**Key participants**: AbstractFactory, ConcreteFactory, AbstractProductA/B, ConcreteProductA/B, Client.
endlegend


interface AbstractProductA
interface AbstractProductB

interface AbstractFactory {
  +createA() : AbstractProductA
  +createB() : AbstractProductB
}

class ConcreteFactory1
class ConcreteFactory2

class ConcreteProductA1
class ConcreteProductB1
class ConcreteProductA2
class ConcreteProductB2

AbstractFactory <|.. ConcreteFactory1
AbstractFactory <|.. ConcreteFactory2

AbstractProductA <|.. ConcreteProductA1
AbstractProductA <|.. ConcreteProductA2
AbstractProductB <|.. ConcreteProductB1
AbstractProductB <|.. ConcreteProductB2

ConcreteFactory1 ..> ConcreteProductA1 : creates
ConcreteFactory1 ..> ConcreteProductB1 : creates
ConcreteFactory2 ..> ConcreteProductA2 : creates
ConcreteFactory2 ..> ConcreteProductB2 : creates

class Client
Client ..> AbstractFactory : uses
Client ..> AbstractProductA
Client ..> AbstractProductB
@enduml