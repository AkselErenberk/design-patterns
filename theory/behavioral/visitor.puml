@startuml
title Visitor

skinparam legendBackgroundColor #f9f9f9
skinparam legendBorderColor #999999

legend right
**Intent**: Define operations on object structures without changing the element classes.

**Use when**: Need to add operations frequently; elements are stable.

**Key participants**: Visitor, ConcreteVisitor, Element, ConcreteElement, ObjectStructure.
endlegend

interface Visitor {
  +visitElementA(e: ConcreteElementA)
  +visitElementB(e: ConcreteElementB)
}

class ConcreteVisitor1
class ConcreteVisitor2

Visitor <|.. ConcreteVisitor1
Visitor <|.. ConcreteVisitor2

interface Element {
  +accept(v: Visitor)
}

class ConcreteElementA
class ConcreteElementB

Element <|.. ConcreteElementA
Element <|.. ConcreteElementB

ConcreteElementA ..> Visitor : accept/visit
ConcreteElementB ..> Visitor : accept/visit
@enduml